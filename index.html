<!DOCTYPE html>
<html lang="id" class="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0, viewport-fit=cover" />
  <title>Underground Gigs</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">

  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            accent: {500: "#a855f7", 600: "#9333ea"},
            darkbg: "#0f0e17"
          }
        }
      }
    }
  </script>

  <style>
    /* ========== CORE ========== */
    :root { --sidebar-collapsed: 72px; --sidebar-expanded: 220px; }
    html,body { height:100%; overflow-x: hidden; scroll-behavior: smooth; }
    
    body {
      margin: 0; font-family: Inter, Poppins, system-ui, sans-serif; color: #fff;
      background: linear-gradient(180deg, #1e1b4b 0%, #0f0e17 100%);
      background-attachment: fixed; transition: none !important; position: relative; z-index: 1;
      
      /* FIX 2: Padding aman untuk Poni (Notch) iPhone */
      padding-top: env(safe-area-inset-top); 
      /* Mencegah highlight biru saat tap di mobile */
      -webkit-tap-highlight-color: transparent;
    }

    /* ========== SIDEBAR (Desktop) ========== */
    .side-wrap {
      position: fixed; left: 0; top: 0; bottom: 0; width: var(--sidebar-collapsed);
      display: flex; flex-direction: column; padding: 16px 0; z-index: 80;
      transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1); background: #0f0e17; 
      border-right: 1px solid rgba(255,255,255,0.1); overflow: hidden;
      /* Padding atas sidebar ikut safe area */
      padding-top: max(16px, env(safe-area-inset-top)); 
    }
    .side-wrap:hover, .side-wrap.expanded { width: var(--sidebar-expanded); box-shadow: 20px 0 40px rgba(0,0,0,0.5); }
    @media (max-width: 640px) { .side-wrap { display: none !important; } }

    .sidebar-inner { width: 100%; display: flex; flex-direction: column; height: 100%; padding: 0 11px; box-sizing: border-box; }
    .brand { display: flex; gap: 12px; align-items: center; width: 100%; padding: 8px 2px 20px; border-bottom: 1px solid rgba(255,255,255,0.08); margin-bottom: 12px; }
    .brand .logo { width: 44px; height: 44px; border-radius: 12px; background: linear-gradient(135deg, rgba(168,85,247,0.4), rgba(59,130,246,0.2)); display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 18px; border: 1px solid rgba(255,255,255,0.2); flex-shrink: 0;}
    .brand .title { opacity: 0; transform: translateX(-10px); transition: all 0.3s ease; white-space: nowrap; font-weight: 600; font-size: 16px; }
    .side-wrap:hover .brand .title { opacity: 1; transform: translateX(0); }

    .nav-list { display: flex; flex-direction: column; gap: 6px; flex: 1; margin-top: 8px; }
    .nav-item { display: flex; align-items: center; gap: 14px; padding: 10px 12px; border-radius: 12px; color: rgba(255,255,255,0.7); cursor: pointer; transition: all 0.25s ease; position: relative; overflow: hidden; }
    .nav-item i { font-size: 22px; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; transition: 0.25s; }
    .nav-item .label { opacity: 0; transform: translateX(-12px); transition: all 0.3s ease; white-space: nowrap; font-size: 14px; font-weight: 500; flex: 1; }
    .side-wrap:hover .nav-item .label { opacity: 1; transform: translateX(0); }
    .nav-item:hover { background: rgba(255,255,255,0.1); color: white; }
    .nav-item.active { color: white; background: rgba(168,85,247,0.15); border: 1px solid rgba(168,85,247,0.4); }

    /* ========== MAIN CONTENT ========== */
    .main { margin-left: var(--sidebar-collapsed); transition: margin-left 0.4s; padding: 24px 28px 80px 28px; min-height: 100vh; box-sizing: border-box; }
    @media (max-width: 640px) { 
        .main { 
            margin-left: 0; 
            padding: 20px 16px; 
            /* FIX 3: Tambah padding bawah extra biar konten paling bawah gak ketutup navbar iPhone */
            padding-bottom: calc(90px + env(safe-area-inset-bottom));
        } 
    }
    .page-section { display: none; animation: fadeIn 0.5s ease; }
    .page-section.active-page { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* ========== SEARCH & FILTER BAR ========== */
    .filter-bar { display: flex; gap: 12px; margin: 24px 0; flex-direction: column; }
    @media(min-width: 768px) { .filter-bar { flex-direction: row; } }

    .custom-input { 
        padding: 14px 20px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.15); 
        background: rgba(255,255,255,0.05); color: white; outline: none; transition: 0.3s;
        /* FIX 4: Font size 16px mencegah iPhone auto-zoom saat ngetik */
        font-size: 16px; 
    }
    .custom-input:focus { border-color: #a855f7; background: rgba(255,255,255,0.1); }
    select.custom-input option { background: #1e1b4b; color: white; padding: 10px; }

    /* ========== GENRE PILLS ========== */
    .genre-scroll-wrap {
        display: flex; gap: 10px; overflow-x: auto; padding: 4px;
        -ms-overflow-style: none; scrollbar-width: none;
        margin-bottom: 20px;
    }
    .genre-scroll-wrap::-webkit-scrollbar { display: none; }
    
    .genre-pill {
        padding: 8px 18px; border-radius: 30px; 
        background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
        color: rgba(255,255,255,0.6); font-size: 13px; font-weight: 500;
        cursor: pointer; white-space: nowrap; transition: 0.2s;
    }
    .genre-pill.active {
        background: #a855f7; color: white; border-color: #a855f7; box-shadow: 0 4px 15px rgba(168,85,247,0.3);
    }

    /* ========== ARTIST CIRCLES ========== */
    .logo-container-wrap { width: 100%; margin-bottom: 20px; }
    .logo-strip { 
        display: flex; gap: 20px; 
        justify-content: flex-start; overflow-x: auto; 
        padding-bottom: 15px; padding-left: 4px; padding-right: 4px;
        scrollbar-width: none;
    }
    .logo-strip::-webkit-scrollbar { display: none; }
    
    .logo-card { 
        width: 85px; flex-shrink: 0;
        display: flex; flex-direction: column; align-items: center; 
        cursor: pointer; transition: transform 0.3s; 
    }
    @media (min-width: 640px) { .logo-card { width: 100px; } }
    .logo-card .img-wrap { 
        width: 75px; height: 75px; 
        border-radius: 50%; border: 2px solid rgba(255,255,255,0.1); 
        position: relative; transition: all 0.3s ease; overflow: hidden;
    }
    @media (min-width: 640px) { .logo-card .img-wrap { width: 90px; height: 90px; border-width: 3px; } }
    .logo-card img { width: 100%; height: 100%; object-fit: cover; }
    .logo-card.selected .img-wrap { border-color: #a855f7; box-shadow: 0 0 15px rgba(168,85,247,0.5); transform: scale(1.05); }
    .logo-card.selected .artist-name { color: #a855f7; font-weight: 700; }
    .logo-card .artist-name { margin-top: 8px; font-size: 11px; font-weight: 500; color: #a1a1aa; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; width: 100%; }

    /* ========== CONCERT CARDS ========== */
    .cards-grid { display: grid; grid-template-columns: repeat(1, 1fr); gap: 20px; margin-top: 10px; }
    @media (min-width: 640px) { .cards-grid { grid-template-columns: repeat(2, 1fr); } }
    @media (min-width: 1024px) { .cards-grid { grid-template-columns: repeat(3, 1fr); } }

    .concert-card { border-radius: 16px; overflow: hidden; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); transition: all 0.4s; transform: translateY(10px); opacity: 0; display: flex; flex-direction: column; }
    .concert-card.show { transform: translateY(0); opacity: 1; }

    /* ========== MOBILE NAV (IPHONE FIXED) ========== */
    .mobile-bottom-nav { 
        position: fixed; bottom: 0; left: 0; right: 0; 
        background: rgba(15, 14, 23, 0.95); /* Sedikit transparan */
        backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); /* Efek Blur di belakang navbar */
        border-top: 1px solid rgba(255,255,255,0.1); 
        display: none; align-items: flex-start; justify-content: space-around; 
        z-index: 100; padding: 10px 8px 0; /* Padding atas 10px */
        
        /* FIX 5: Tinggi Nav memperhitungkan Safe Area Bottom */
        height: calc(65px + env(safe-area-inset-bottom));
        padding-bottom: env(safe-area-inset-bottom);
    }
    @media (max-width: 640px) { .mobile-bottom-nav { display: flex; } }
    
    .mobile-nav-item { display: flex; flex-direction: column; align-items: center; justify-content: center; flex: 1; color: rgba(255,255,255,0.6); cursor: pointer; }
    .mobile-nav-item.active { color: #a855f7; }

    /* ========== MODAL ========== */
    .modal-hidden { display: none !important; }
    .modal-bg { background: rgba(0,0,0,0.9); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); display: flex; }
  </style>
</head>
<body id="mainBody">

  <aside id="sideWrap" class="side-wrap">
    <div class="sidebar-inner">
      <div class="brand">
        <div class="logo">UG</div>
        <div class="title">GigFinder</div>
      </div>
      <nav class="nav-list">
        <div class="nav-item active" onclick="handleNavigation('navHome')"><i class="ri-fire-line"></i><div class="label">Explore</div></div>
        <div class="nav-item" onclick="handleNavigation('navTickets')"><i class="ri-ticket-2-line"></i><div class="label">Tickets</div></div>
        <div class="nav-item" onclick="handleNavigation('navRewards')"><i class="ri-gift-line"></i><div class="label">Rewards</div></div>
        <div class="nav-item" onclick="handleNavigation('navProfile')"><i class="ri-user-3-line"></i><div class="label">Profile</div></div>
      </nav>
    </div>
  </aside>

  <main class="main" id="main">
    
    <div id="page-navHome" class="page-section active-page">
        <header class="mb-6">
            <h1 class="text-2xl md:text-3xl font-bold text-white">Explore Gigs</h1>
        </header>
        
        <section class="filter-bar">
          <div class="relative flex-1">
            <i class="ri-search-line absolute left-4 top-4 text-gray-400"></i>
            <input id="searchBar" class="custom-input w-full pl-12" placeholder="Cari..." onkeyup="handleSearch()" />
          </div>
          <div class="relative w-full md:w-64">
            <i class="ri-map-pin-2-line absolute left-4 top-4 text-gray-400"></i>
            <select id="locationFilter" class="custom-input w-full pl-12 appearance-none cursor-pointer" onchange="handleSearch()">
                <option value="all">Semua Lokasi</option>
                <option value="Jakarta">Jakarta</option>
                <option value="Bandung">Bandung</option>
                <option value="Bali">Bali</option>
                <option value="Yogyakarta">Yogyakarta</option>
                <option value="Surabaya">Surabaya</option>
            </select>
            <i class="ri-arrow-down-s-line absolute right-4 top-4 text-gray-400 pointer-events-none"></i>
          </div>
        </section>

        <section>
          <div class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2">Pilih Genre</div>
          <div id="genreContainer" class="genre-scroll-wrap"></div>
        </section>

        <section>
          <div class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 mt-4">Pilih Artis</div>
          <div class="logo-container-wrap">
              <div id="logoArea" class="logo-strip"></div>
          </div>
        </section>

        <section>
          <div class="flex items-center justify-between mb-4 mt-2 border-b border-white/10 pb-2">
              <h2 class="text-lg font-bold text-white">Jadwal Konser</h2>
              <span id="resultCount" class="text-xs text-accent-500 font-mono"></span>
          </div>
          <div id="cardsGrid" class="cards-grid"></div>
        </section>
    </div>

    <div id="page-navTickets" class="page-section">
        <header class="mb-6"><h1 class="text-3xl font-bold">My Tickets</h1></header>
        <div class="text-center mt-20 p-10 border border-dashed border-white/10 rounded-xl text-gray-500">Tiket kosong.</div>
    </div>
    <div id="page-navRewards" class="page-section">
        <header class="mb-6"><h1 class="text-3xl font-bold">Rewards</h1></header>
        <div class="bg-gradient-to-r from-accent-600 to-purple-800 p-6 rounded-2xl text-white">
            <h2 class="text-4xl font-bold">2,450 XP</h2>
            <p class="opacity-80">Saldo Poin Kamu</p>
        </div>
    </div>
    <div id="page-navProfile" class="page-section">
        <header class="mb-6"><h1 class="text-3xl font-bold">Profile</h1></header>
        <div class="flex items-center gap-4">
            <div class="w-16 h-16 rounded-full bg-gray-700 overflow-hidden"><img src="https://ui-avatars.com/api/?name=User" class="w-full h-full"></div>
            <div><h2 class="font-bold">Music Fanatic</h2><p class="text-xs text-gray-400">VIP Member</p></div>
        </div>
    </div>

  </main>

  <div id="mobileBottomNav" class="mobile-bottom-nav">
    <div class="mobile-nav-item active" onclick="handleNavigation('navHome')"><i class="ri-fire-line"></i><span class="text-[10px]">Explore</span></div>
    <div class="mobile-nav-item" onclick="handleNavigation('navNearby')"><i class="ri-map-pin-user-line"></i><span class="text-[10px]">Nearby</span></div>
    <div class="mobile-nav-item" onclick="handleNavigation('navTickets')"><i class="ri-ticket-2-line"></i><span class="text-[10px]">Tickets</span></div>
    <div class="mobile-nav-item" onclick="handleNavigation('navRewards')"><i class="ri-gift-line"></i><span class="text-[10px]">Rewards</span></div>
    <div class="mobile-nav-item" onclick="handleNavigation('navProfile')"><i class="ri-user-3-line"></i><span class="text-[10px]">Profile</span></div>
  </div>

  <div id="detailModal" class="fixed inset-0 modal-bg modal-hidden z-50 items-center justify-center p-4">
    <div class="bg-gray-900 border border-white/10 rounded-2xl w-full max-w-2xl overflow-hidden shadow-2xl relative flex flex-col md:flex-row">
      <div class="md:w-1/2 h-48 md:h-auto relative shrink-0">
         <img id="modalImg" src="" class="absolute inset-0 w-full h-full object-cover">
      </div>
      <div class="md:w-1/2 p-6 flex flex-col">
          <h3 id="modalTitle" class="text-xl font-bold mb-1 text-white"></h3>
          <div id="modalBandInfo" class="text-accent-500 font-bold mb-4 text-xs uppercase"></div>
          <div class="space-y-2 mb-6 text-gray-300 text-sm">
              <div class="flex items-center gap-2"><i class="ri-calendar-event-line text-accent-500"></i><span id="modalDate"></span></div>
              <div class="flex items-center gap-2"><i class="ri-map-pin-line text-accent-500"></i><span id="modalVenue"></span></div>
          </div>
          <div class="mt-auto flex items-center justify-between pt-4 border-t border-white/10">
            <div id="modalPrice" class="text-white text-lg font-bold"></div>
            <button class="px-4 py-2 bg-accent-600 rounded-lg text-sm font-bold text-white hover:bg-accent-500">Beli Tiket</button>
          </div>
          <button id="closeModal" class="absolute top-3 right-3 bg-black/50 rounded-full p-1 text-white"><i class="ri-close-line text-xl"></i></button>
      </div>
    </div>
  </div>

  <script>
    /* DATASET LENGKAP */
    const bands = [
      { name: 'Metallica', genre: 'Metal', img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/Metallica_logo.png/800px-Metallica_logo.png', concerts: [{title:'M72 World Tour', date:'2025-05-15', venue:'GBK Senayan', location:'Jakarta', price:2500000, img:'https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/Metallica_live_in_London_2017.jpg/800px-Metallica_live_in_London_2017.jpg'}] },
      { name: 'Sheila on 7', genre: 'Pop Rock', img: 'https://assets.kompasiana.com/items/album/2023/02/02/sheila-on-7-63db25044addee27796d11e2.jpg?t=o&v=770', concerts: [{title:'Tunggu Aku Di Jakarta', date:'2025-02-14', venue:'JIExpo', location:'Jakarta', price:750000, img:'https://cdn0-production-images-kly.akamaized.net/M_H2w_Y3p2nJk8oG-J4X9gZ9XqI=/1200x675/smart/filters:quality(75):strip_icc():format(jpeg)/kly-media-production/medias/4308573/original/038753200_1675095499-20230130-Konser_Tunggal_Sheila_on_7_Bertajuk_Tunggu_Aku_di_Jakarta-Bambang_E_Ros-5.jpg'}] },
      { name: 'BLACKPINK', genre: 'K-Pop', img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/Blackpink_logo.svg/2560px-Blackpink_logo.svg.png', concerts: [{title:'BORN PINK Finale', date:'2025-08-08', venue:'JIS', location:'Jakarta', price:3500000, img:'https://media.allure.com/photos/643d5c5c643d5c5c643d5c5c/16:9/w_2560%2Cc_limit/blackpink%2520coachella%25202023.jpg'}] },
      { name: 'Tulus', genre: 'Pop Jazz', img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Tulus_2018.jpg/640px-Tulus_2018.jpg', concerts: [{title:'Tur Manusia', date:'2025-03-10', venue:'Sabuga', location:'Bandung', price:500000, img:'https://asset.kompas.com/crops/O2zW64V7Xy8zR1X9-4_Xy9Xy9Xy=/0x0:0x0/750x500/data/photo/2023/01/29/63d6666666666.jpg'}] },
      { name: 'Dewa 19', genre: 'Rock', img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/Dewa_19_logo.svg/1200px-Dewa_19_logo.svg.png', concerts: [{title:'Pesta Rakyat 30 Tahun', date:'2025-06-20', venue:'Stadion Siliwangi', location:'Bandung', price:450000, img:'https://cdn.antaranews.com/cache/800x533/2023/02/05/Dewa-19-JIS.jpg'}] },
      { name: 'Weird Genius', genre: 'EDM', img: 'https://upload.wikimedia.org/wikipedia/commons/e/ec/Weird_Genius_Logo.png', concerts: [{title:'DWP 2025 Headline', date:'2025-12-12', venue:'GWK', location:'Bali', price:1200000, img:'https://asset-a.grid.id/crop/0x0:0x0/700x465/photo/2020/06/12/375765691.jpg'}] },
      { name: 'NDX AKA', genre: 'Dangdut', img: 'https://yt3.googleusercontent.com/ytc/AIdro_n4Kj7cQ_sT9fC_b6qv8x5j_sK8x5x_sK8x5x_sK8=s900-c-k-c0x00ffffff-no-rj', concerts: [{title:'Ambyar Fest', date:'2025-04-01', venue:'Alun-alun Kidul', location:'Yogyakarta', price:150000, img:'https://asset-2.tstatic.net/jogja/foto/bank/images/ndx-aka-di-jogja-rockarta-2022.jpg'}] }
    ];

    let selectedGenre = 'All';
    let selectedArtist = null;

    /* RENDER LOGIC */
    function renderGenres() {
        const uniqueGenres = ['All', ...new Set(bands.map(b => b.genre))];
        const container = document.getElementById('genreContainer');
        container.innerHTML = '';
        uniqueGenres.forEach(g => {
            const btn = document.createElement('div');
            btn.className = `genre-pill ${selectedGenre === g ? 'active' : ''}`;
            btn.textContent = g;
            btn.onclick = () => filterByGenre(g);
            container.appendChild(btn);
        });
    }

    function renderArtists() {
        const container = document.getElementById('logoArea');
        container.innerHTML = '';
        const visibleBands = selectedGenre === 'All' ? bands : bands.filter(b => b.genre === selectedGenre);
        visibleBands.forEach(band => {
            const el = document.createElement('div');
            el.className = 'logo-card';
            if(selectedArtist === band.name) el.classList.add('selected');
            el.innerHTML = `
                <div class="img-wrap"><img src="${band.img}" alt="${band.name}"></div>
                <div class="artist-name">${band.name}</div>
            `;
            el.onclick = () => filterByArtist(band.name);
            container.appendChild(el);
        });
    }

    function filterByGenre(genre) {
        selectedGenre = genre;
        selectedArtist = null;
        renderGenres(); renderArtists(); renderConcerts();
    }

    function filterByArtist(artistName) {
        selectedArtist = (selectedArtist === artistName) ? null : artistName;
        renderArtists(); renderConcerts();
    }

    function handleSearch() { renderConcerts(); }

    function renderConcerts() {
        const query = document.getElementById('searchBar').value.toLowerCase();
        const loc = document.getElementById('locationFilter').value;
        const grid = document.getElementById('cardsGrid');
        grid.innerHTML = '';
        let count = 0;

        bands.forEach(b => {
            if (selectedGenre !== 'All' && b.genre !== selectedGenre) return;
            if (selectedArtist && b.name !== selectedArtist) return;

            b.concerts.forEach(c => {
                c.bandName = b.name; 
                if (loc !== 'all' && c.location !== loc) return;
                const matchText = c.title.toLowerCase().includes(query) || c.venue.toLowerCase().includes(query) || b.name.toLowerCase().includes(query);
                if (!matchText) return;

                count++;
                const card = document.createElement('div');
                card.className = 'concert-card';
                card.innerHTML = `
                    <div class="relative h-36">
                        <img src="${c.img}" class="w-full h-full object-cover">
                        <div class="absolute top-2 right-2 bg-black/60 backdrop-blur px-2 py-1 rounded text-[10px] font-bold text-white border border-white/20">
                            ${c.location}
                        </div>
                    </div>
                    <div class="p-4 flex flex-col flex-1">
                        <div class="text-accent-500 font-bold text-[10px] uppercase tracking-wide mb-1">${c.bandName}</div>
                        <h3 class="text-base font-bold text-white leading-tight mb-2">${c.title}</h3>
                        <p class="text-gray-400 text-xs mb-3 flex items-center gap-1"><i class="ri-map-pin-line"></i> ${c.venue}</p>
                        <div class="mt-auto border-t border-white/10 pt-3 flex justify-between items-center">
                            <span class="text-white font-bold text-sm">Rp ${c.price.toLocaleString('id-ID')}</span>
                            <button class="px-3 py-1 bg-white/10 rounded hover:bg-white/20 transition text-xs text-white">Detail</button>
                        </div>
                    </div>
                `;
                card.onclick = () => openModal(c);
                grid.appendChild(card);
                setTimeout(() => card.classList.add('show'), count * 50);
            });
        });
        document.getElementById('resultCount').textContent = count === 0 ? "0" : `${count} Events`;
        if(count === 0) grid.innerHTML = `<div class="text-gray-500 col-span-3 text-center py-8">Tidak ada jadwal konser.</div>`;
    }

    /* MODAL & NAV */
    const modal = document.getElementById('detailModal');
    function openModal(c) {
        document.getElementById('modalTitle').textContent = c.title;
        document.getElementById('modalBandInfo').textContent = c.bandName;
        // Fix for iOS Safari Date Parsing (Standard ISO is mostly fine, but let's be cleaner)
        const d = new Date(c.date);
        document.getElementById('modalDate').textContent = !isNaN(d) ? d.toLocaleDateString('id-ID', {day:'numeric', month:'long', year:'numeric'}) : c.date;
        document.getElementById('modalVenue').textContent = c.venue + ", " + c.location;
        document.getElementById('modalPrice').textContent = "Rp " + c.price.toLocaleString('id-ID');
        document.getElementById('modalImg').src = c.img;
        modal.classList.remove('modal-hidden');
    }
    document.getElementById('closeModal').onclick = () => modal.classList.add('modal-hidden');
    modal.onclick = (e) => { if(e.target === modal) modal.classList.add('modal-hidden'); }

    function handleNavigation(pageId) {
        document.querySelectorAll('.page-section').forEach(p => p.classList.remove('active-page'));
        document.getElementById('page-'+pageId).classList.add('active-page');
        document.querySelectorAll('.nav-item, .mobile-nav-item').forEach(el => {
            el.classList.toggle('active', el.getAttribute('onclick').includes(pageId));
        });
        window.scrollTo(0,0);
    }

    window.onload = () => { renderGenres(); renderArtists(); renderConcerts(); };
  </script>
</body>

</html>
